## CRUD'ы как искусство. (монгадиби тут не будет)  
Итак первое(и почти последнее) это нормализация бд aka отношения(рассмотрим на ElequentORM), бывает:  
1: Один к одному - hasOne (обратное belongsTo)  
2: Один ко многим - hasMany (обратное belongsTo)  
3: Многие ко многим - belongsToMany   
## hasOne - подробнее:  
читать - https://laravel.demiart.ru/one-to-one-relationship/  
кратко: у зависимой таблице(например user_avatar) создается поле - например user_id  
## hasMany - подробнее:  
читать - https://laravel.demiart.ru/one-to-many-relationship/  
кратко: тоже самое что и у hasOne - только предпологается что в зависимой таблице будет несколько записей, например - user и messages. у одного пользователя много сообщений. т.е у messages поле user_id  
## belongsToMany - подробнее:  
читать - https://laravel.demiart.ru/many-to-many-relationship/  
кратко: тут нужно создать дополнительную таблицу связки - например user и offices - в 1 офисе много людей, один человек может работать сразу в нескольких офисах. создаем user_office - где будет 2 поля user_id, office_id.  

---



у одной сущности могут быть несколько отношений. например:  
сущность topic - у нее belongsTo с user и belongsTo с messages.  

---


## что нужно знать по мимо работы с ElequentORM :  
1: иерархические структуры (например: категории в интернет магазине)  
2: RAW SELECT SQL advanced, нужно писать сложные sql select  
3: EAV - возможность уйти от нормализации с бд и работать с данными как в монгодб. например в БУС вместо работы с бд используется паттерн EAV (он идеально подходить для каталога интернет магазина) но на EAV можно делать не только каталоги, а все что угодно, например можно даже создать аттрибут-отношения и связать 2 entity.  
4: JSONB - EAV 21века, возможность в поле таблице хранить JSON. и использовать поля из этого JSON в селектах. например можно сделать инет магазин и хранить аттрибуты товаров не в EAV, а в JSONB.
5: транзакции
---

extra:   
погугли про миграции и FK  